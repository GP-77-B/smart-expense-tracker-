/* Phase 3 styles - dark default, filter bar, modal center, enhanced toggle */

/* variables */
:root{
  --bg: #0B132B;
  --card: rgba(28,37,65,0.60);
  --glass-border: rgba(255,255,255,0.06);
  --text: #E6EEF6;
  --muted: #9AA6B2;
  --accent: #5BC0BE;
  --accent-2: #F28AB2;
  --shadow: 0 20px 60px rgba(2,8,20,0.6);
  --radius: 12px;
  --transition: 320ms cubic-bezier(.2,.9,.2,1);
  --chart-h: 140px;
  --page-pad: 18px;
  --max-width: 1100px;
  --font: Inter, Poppins, system-ui, -apple-system, "Segoe UI", Roboto, Arial;
}

/* light theme */
body.light{
  --bg: #F8F9FA;
  --card: rgba(255,255,255,0.72);
  --glass-border: rgba(255,255,255,0.6);
  --text: #222831;
  --muted: #6b7280;
  --accent: #3A7CA5;
  --accent-2: #F4A9C1;
  --shadow: 0 10px 30px rgba(2,8,20,0.08);
}

/* base */
*{ box-sizing:border-box; }
html,body{ height:100%; margin:0; font-family:var(--font); -webkit-font-smoothing:antialiased; }
body{
  background: linear-gradient(180deg, var(--bg), color-mix(in srgb, var(--bg) 96%, transparent 4%));
  color:var(--text);
  transition: background var(--transition), color var(--transition);
}

/* page */
.page{ max-width:var(--max-width); margin:28px auto; padding:var(--page-pad); display:flex; flex-direction:column; gap:18px; }

/* topbar */
.topbar{ display:flex; align-items:center; justify-content:space-between; gap:12px; padding:12px; border-radius:12px;
         background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
         box-shadow: var(--shadow); backdrop-filter: blur(6px);
         transition: box-shadow var(--transition); }

.brand-text h1{ margin:0; font-size:1.25rem; letter-spacing:0.2px; font-weight:700; color:var(--text); }
.tag{ margin:3px 0 0 0; font-size:0.82rem; color:var(--muted) }

/* controls + tabs */
.controls{ display:flex; gap:12px; align-items:center }
.chart-tabs{ display:flex; gap:6px; padding:6px; border-radius:10px; position:relative; }
.tab{ padding:8px 12px; border-radius:8px; background:transparent; border:1px solid transparent; color:var(--muted); cursor:pointer; font-weight:600; }
.tab.active{ color:#051226; background:linear-gradient(90deg,color-mix(in srgb,var(--accent) 36%, white 64%), var(--accent-2)); transform:translateY(-2px); }
.tab-underline{ position:absolute; bottom:-6px; left:0; height:3px; width:0; background:var(--accent); border-radius:4px; transition:left 260ms, width 260ms; }

/* theme toggle */
.theme-switch{ width:72px; height:36px; position:relative; }
.theme-switch input{ display:none; }
.switch{ display:block; width:100%; height:100%; border-radius:999px; border:1px solid var(--glass-border); background: linear-gradient(90deg, rgba(0,0,0,0.04), rgba(255,255,255,0.01)); position:relative; padding:6px; cursor:pointer; overflow:hidden; }
.icon{ position:absolute; top:50%; transform:translateY(-50%); font-size:14px; opacity:1; transition:opacity 280ms ease; pointer-events:none; }
.sun{ left:12px; color:var(--accent-2); }
.moon{ right:12px; color:var(--muted); opacity:0; }
.knob{ position:absolute; top:50%; left:8px; transform:translateY(-50%); width:24px; height:24px; border-radius:50%; background:linear-gradient(180deg,#fff,#f0f0f0); box-shadow:0 6px 18px rgba(2,8,20,0.12); transition:left 360ms cubic-bezier(.2,.9,.2,1), background 300ms; }
.theme-switch input:checked + .switch .knob{ left:40px; background:linear-gradient(180deg,#0f1724,#26314a); }
.theme-switch input:checked + .switch .sun{ opacity:0; }
.theme-switch input:checked + .switch .moon{ opacity:1; }

/* filter bar */
.filter-bar{ display:flex; justify-content:space-between; align-items:center; gap:12px; padding:10px 12px; border-radius:12px; background:var(--card); border:1px solid var(--glass-border); box-shadow:var(--shadow); backdrop-filter: blur(6px); }
.filter-left{ display:flex; gap:12px; align-items:center; flex-wrap:wrap; }
.filter-item{ display:flex; align-items:center; gap:8px; background:transparent; padding:6px 8px; border-radius:10px; }
.filter-icon{ font-size:16px; opacity:0.95; }
.filter-item input, .filter-item select{ padding:8px 10px; border-radius:8px; border:1px solid rgba(255,255,255,0.04); background:transparent; color:var(--text); }

/* filter right */
.filter-right{ display:flex; gap:8px; align-items:center; }
.btn{ padding:8px 12px; border-radius:10px; border:1px solid rgba(255,255,255,0.04); background:transparent; color:var(--text); cursor:pointer; }
.btn.primary{ background:linear-gradient(90deg,var(--accent),var(--accent-2)); color:#051226; border:none; box-shadow: 0 10px 30px rgba(0,0,0,0.12); }

/* modal */
.modal{ position:fixed; inset:0; display:none; align-items:center; justify-content:center; z-index:60; }
.modal.show{ display:flex; }
.modal-card{ width:420px; max-width:94%; border-radius:12px; padding:18px; background:var(--card); border:1px solid var(--glass-border); box-shadow:var(--shadow); backdrop-filter: blur(12px); transform:scale(.98); opacity:0; transition: transform 220ms ease, opacity 220ms ease; }
.modal.show .modal-card{ transform:scale(1); opacity:1; }
.modal-card h3{ margin:0 0 8px 0; color:var(--text); }
.modal-card label{ display:block; margin:8px 0; font-size:0.9rem; color:var(--muted); }
.modal-card input{ width:100%; padding:8px 10px; border-radius:8px; border:1px solid rgba(255,255,255,0.04); background:transparent; color:var(--text); }
.modal-actions{ display:flex; gap:8px; justify-content:flex-end; margin-top:12px; }

/* cards, charts, table (same as earlier) */
.dashboard{ display:flex; flex-direction:column; gap:14px; }
.card{ border-radius:12px; padding:14px; min-height:88px; box-shadow:var(--shadow); border:1px solid var(--glass-border); background: var(--card); transition: transform var(--transition), box-shadow var(--transition); backdrop-filter: blur(8px); }
.card:hover{ transform: translateY(-6px); box-shadow: 0 30px 80px rgba(2,8,20,0.12) }
.card h2{ margin:0 0 8px 0; font-size:0.95rem; color:var(--text) }
.muted{ color:var(--muted); font-size:0.88rem }
.card-row{ display:flex; align-items:center; justify-content:space-between; gap:12px }
.big-number{ font-size:1.8rem; font-weight:800; color:var(--text) }
.chart-wrap{ width:100%; height:var(--chart-h); }
.chart-compact{ width:100% !important; height:100% !important }
.table-wrap{ max-height:360px; overflow:auto; margin-top:8px }
table{ width:100%; border-collapse:collapse; font-size:0.92rem }
thead th{ text-align:left; padding:8px; font-weight:700; color:var(--muted) }
tbody td{ padding:10px 8px; border-bottom:1px dashed rgba(0,0,0,0.04); color:var(--text) }
.btn-del{ background:transparent; border:1px solid rgba(255,255,255,0.06); padding:6px 8px; border-radius:8px; color:var(--accent-2); cursor:pointer }

/* responsive */
@media (max-width:900px){
  .filter-left{ gap:8px }
  .modal-card{ width:92% }
  :root{ --chart-h:120px }
}
 